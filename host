local exe_name, exe_version = identifyexecutor()
local function home999() end
local function home888() end

if exe_name ~= "Wave Windows" then
    hookfunction(home888, home999)
    if isfunctionhooked(home888) == false then
        game.Players.LocalPlayer:Destroy()
        return LPH_CRASH()
    end
end 

local function check_env(env)
    for _, func in env do
        if type(func) ~= "function" then
            continue
        end

        local functionhook = isfunctionhooked(func)

        if functionhook then
            game.Players.LocalPlayer:Destroy()
            return LPH_CRASH()
        end
    end
end

check_env( getgenv() )
check_env( getrenv() )
--

local Lua_Fetch_Connections = getconnections
local Lua_Fetch_Upvalues = getupvalues
local Lua_Hook = hookfunction 
local Lua_Hook_Method = hookmetamethod
local Lua_Unhook = restorefunction
local Lua_Replace_Function = replaceclosure
local Lua_Set_Upvalue = setupvalue
local Lua_Clone_Function = clonefunction

local Game_RunService = game:GetService("RunService")
local Game_LogService = game:GetService("LogService")
local Game_LogService_MessageOut = Game_LogService.MessageOut

local String_Lower = string.lower
local Table_Find = table.find
local Get_Type = type

local Current_Connections = {};
local Hooked_Connections = {};

local function Test_Table(Table, Return_Type)
for TABLE_INDEX, TABLE_VALUE in Table do
    if type(TABLE_VALUE) == String_Lower(Return_Type) then
        return TABLE_VALUE, TABLE_INDEX
    end

    continue
end
end

local function Print_Table(Table)
table.foreach(Table, print)
end

if getgenv().DEBUG then
print("[auth.injected.live] Waiting...")
end

local good_check = 0

function auth_heart()
return true , true
end

function Lua_Common_Intercept(old, ...)
print(...)
return old(...)
end

function XVNP_L(CONNECTION)
local s, e = pcall(function()
    local OPENAC_TABLE = Lua_Fetch_Upvalues(CONNECTION.Function)[9]
    local OPENAC_FUNCTION = OPENAC_TABLE[1]
    local IGNORED_INDEX = {3, 12, 1, 11, 15, 8, 20, 18, 22}

    Lua_Set_Upvalue(OPENAC_FUNCTION, 14, function(...)
        return function(...)
            local args = {...}

            if type(args[1]) == "table" and args[1][1] then
                pcall(function()
                    if type(args[1][1]) == "userdata" then
                        args[1][1]:Disconnect()
                        args[1][2]:Disconnect()
                        args[1][3]:Disconnect()
                        args[1][4]:Disconnect()
                    end
                end)
            end 
        end
    end)

    Lua_Set_Upvalue(OPENAC_FUNCTION, 1, function(...)
        task.wait(200)
    end)

    hookfunction(OPENAC_FUNCTION, function(...)
        return {}
    end)
end)
end

local XVNP_LASTUPDATE = 0
local XVNP_UPDATEINTERVAL = 5

local XVNP_CONNECTIONSNIFFER;

XVNP_CONNECTIONSNIFFER = Game_RunService.RenderStepped:Connect(function()
if #Lua_Fetch_Connections(Game_LogService_MessageOut) >= 2 then
    XVNP_CONNECTIONSNIFFER:Disconnect()
end

if tick() - XVNP_LASTUPDATE >= XVNP_UPDATEINTERVAL then
    XVNP_LASTUPDATE = tick() 

    local OpenAc_Connections = Lua_Fetch_Connections(Game_LogService_MessageOut)

    for _, CONNECTION in OpenAc_Connections do
        if not table.find(Current_Connections, CONNECTION) then
            table.insert(Current_Connections, CONNECTION)
            table.insert(Hooked_Connections, CONNECTION)

            XVNP_L(CONNECTION)
            
        end
    end
end
end)

local last_beat = 0
Game_RunService.RenderStepped:Connect(function()
if last_beat + 1 < tick() then
    last_beat = tick() + 1 

    local what, are = auth_heart()

    if not are or not what then
        if good_check <= 0 then
            game.Players.LocalPlayer:Destroy()
            return LPH_CRASH()
        else
            good_check -=1
        end
    else
        good_check += 1
    end

end
end)

if getgenv().DEBUG then
print("[auth.injected.live] Started Emulation Thread")
end

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local GroupService = game:GetService("GroupService")
local Lighting = game:GetService("Lighting")
local ChatService = game:GetService("Chat")
local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")

--Module scripts
local mainModule = require(ReplicatedStorage:WaitForChild("MainModule"))

--Wait for player to be added
local PLAYER = Players.LocalPlayer

local MAIN_EVENT = ReplicatedStorage:WaitForChild("MainEvent")
local PLAYER_GUI = PLAYER:WaitForChild("PlayerGui")

local PLAYER_CREW = PLAYER:WaitForChild("DataFolder"):WaitForChild("Information"):WaitForChild("Crew")

--IGNORED
local IGNORED = workspace:WaitForChild("Ignored")

local function isAlt(userId)
    if not getgenv().alts then
        return false
    end
    for i, id in ipairs(getgenv().alts) do
        if userId == id then
            return true
        end
    end
    return false
end

local PLAYER_CASH = PLAYER:WaitForChild("DataFolder"):WaitForChild("Currency")

-- Function to format numbers with commas
local function commaValue(amount)
    local formatted = tostring(amount)
    local k
    while true do  
        formatted, k = string.gsub(formatted, "^(-?%d+)(%d%d%d)", '%1,%2')
        if (k==0) then
            break
        end
    end
    return formatted
end

-- Only load HOST GUI if NOT an alt
if isAlt(PLAYER.UserId) == false then
    local function format(value)
        -- Check if the value is negative
        local isNegative = value < 0
        value = math.abs(value)  -- Take the absolute value for formatting
    
        -- Format the number with commas
        local formatted = tostring(value):reverse():gsub("(%d%d%d)", "%1,"):reverse():gsub("^,", "")
    
        -- Add the dollar sign at the beginning
        if isNegative then
            formatted = "$-" .. formatted
        else
            formatted = "$" .. formatted
        end
        
        return formatted
    end
    
    
    hookfunction(game:GetService("UserInputService").GetFocusedTextBox, newcclosure(function(...)
        return 
    end))
    
    
    
    local G2L = {};
    
    
        -- Get the UserInputService to listen for key events
    local UserInputService = game:GetService("UserInputService")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")

    
    -- Function to hide all GUIs
    local function hideGUIs()
        if G2L["1"] then
            G2L["1"].Enabled = false  -- Disables the GUI by setting the "Enabled" property to false
        end
    end
    
    -- Function to show all GUIs
    local function showGUIs()
        if G2L["1"] then
            G2L["1"].Enabled = true  -- Enables the GUI by setting the "Enabled" property to true
        end
    end
    
    
    if gethui():FindFirstChild("SELLERGUI") then 
        gethui():FindFirstChild("SELLERGUI"):Destroy()
    end 
    
    -- Create the ScreenGui and place it in the G2L area
    local player = game.Players.LocalPlayer
    G2L["1"] = Instance.new("ScreenGui", gethui())
    G2L["1"].Name = "SELLERGUI"
    G2L["1"]["ZIndexBehavior"] = Enum.ZIndexBehavior.Sibling
    
    -- Create the frame
    G2L["2"] = Instance.new("Frame", G2L["1"])
    G2L["2"]["BorderSizePixel"] = 0
    G2L["2"]["BackgroundColor3"] = Color3.fromRGB(70, 70, 70)
    G2L["2"]["Size"] = UDim2.new(0, 520, 0, 296)
    G2L["2"]["Position"] = UDim2.new(0.12741, 0, 0.29397, 0)
    G2L["2"]["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    
    
    -- Create a new frame named "sideFrame" with size {0, 100}, {0, 300} inside G2L["2"]
    local sideFrame = Instance.new("Frame", G2L["2"])
    sideFrame.Name = "sideFrame"  -- Name the inner frame "sideFrame"
    sideFrame.Size = UDim2.new(0, 130, 0, 296)  -- Size {0, 100}, {0, 300}
    sideFrame.Position = UDim2.new(0, 0, 0, 0)  -- Position it inside the parent frame (G2L["2"])
    sideFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)  -- Set a different background color to distinguish it
    sideFrame.BorderSizePixel = 0  -- Remove the border
    sideFrame.ZIndex = 2  -- Set a higher ZIndex for sideFrame to appear above the parent
    sideFrame.BackgroundTransparency = 0.5
    
    
    -- Add rounded corners to sideFrame using UICorner
    local uiCorner = Instance.new("UICorner", sideFrame)
    uiCorner.CornerRadius = UDim.new(0, 5)  -- Adjust the radius value to make the corners more or less rounded
    
    
    
    
    -- Function to create buttons
    local function createmobile(parent, position, text, callback)
        local button = Instance.new("TextButton", parent)
        button.Size = UDim2.new(0, 100, 0, 40)
        button.Position = position
        button.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Text = text
        button.Font = Enum.Font.GothamBold
        button.TextSize = 18
        button.BorderSizePixel = 0
        local uiCorner = Instance.new("UICorner", button)
        uiCorner.CornerRadius = UDim.new(0, 8)
    
        -- Button click event
        button.MouseButton1Click:Connect(callback)
        
        return button
    end
    
    
    
    
    -- mobile
    ---------
    local tpframe = Instance.new("Frame", G2L["2"])
    tpframe.Name = "sideFrame"
    tpframe.Size = UDim2.new(0, 70, 0, 10)
    tpframe.Position = UDim2.new(0, 420, 0, -55)
    tpframe.BackgroundColor3 = Color3.fromRGB(50, 25, 50)
    tpframe.BorderSizePixel = 0
    tpframe.ZIndex = 2
    tpframe.BackgroundTransparency = 1
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    -- Create the frames for Alts
    local AltsFrame = Instance.new("ScrollingFrame", G2L["2"])
    AltsFrame["Active"] = true
    AltsFrame["BorderSizePixel"] = 0
    AltsFrame["BackgroundColor3"] = Color3.fromRGB(255, 25, 255)
    AltsFrame["ScrollBarImageTransparency"] = 1
    AltsFrame["Size"] = UDim2.new(0, 396, 0, 296)
    AltsFrame["ScrollBarImageColor3"] = Color3.fromRGB(0, 0, 0)
    AltsFrame["Position"] = UDim2.new(0.24, 10, 0, 0)
    AltsFrame["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    AltsFrame["BackgroundTransparency"] = 1
    
    AltsFrame.Visible = false  -- Initially hidden
    AltsFrame.ZIndex = 3
    
    
    -- Store the references to the labels to update later
    local altsStockLabel, altsBountyLabel, totalAltsLabel
    
    -- Helper function to create the boxes
    local function createBox2(parent, position, title, number)
        local box = Instance.new("Frame", parent)
        box.Size = UDim2.new(0, 379, 0, 60)
        box.Position = position
        box.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        box.BorderSizePixel = 0
        
        uicorner13 = Instance.new("UICorner", box);
    
        
        -- Title Label
        local titleLabel = Instance.new("TextLabel", box)
        titleLabel.Size = UDim2.new(1, 0, 0.5, 0)
        titleLabel.Position = UDim2.new(0, 0, 0, 0)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Text = title
        titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.Font = Enum.Font.GothamBold
        titleLabel.TextSize = 16
        
        -- Number Label
        local numberLabel = Instance.new("TextLabel", box)
        numberLabel.Size = UDim2.new(1, 0, 0.5, 0)
        numberLabel.Position = UDim2.new(0, 0, 0.5, 0)
        numberLabel.BackgroundTransparency = 1
        numberLabel.Text = tostring(number)  -- Set the number dynamically
        numberLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        numberLabel.Font = Enum.Font.GothamBold
        numberLabel.TextSize = 14
        
        -- Return the number label to be stored for future updates
        return numberLabel
    end
    
    -- Create the boxes and store references to the number labels
    altsStockLabel = createBox2(AltsFrame, UDim2.new(0, 0, 0, 10), "Alts Stock", 0)
    altsBountyLabel = createBox2(AltsFrame, UDim2.new(0, 0, 0, 80), "Alts Bounty", 0)
    totalAltsLabel = createBox2(AltsFrame, UDim2.new(0, 0, 0, 150), "Total Alts", 0)
    
    
    
    -- Function to create a dynamic box to display PFP, username, and cash balance
    local function createProfileBox(parent, player, position)
        local box = Instance.new("Frame", parent)
        box.Size = UDim2.new(0, 379, 0, 80)  -- Fixed height for each profile box
        box.Position = position  -- Position passed in as argument
        box.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        box.BorderSizePixel = 0
        box.Name = "ProfileBox_" .. player.UserId  -- Unique name for the box
    
        local uicorner13 = Instance.new("UICorner", box)
    
        local PLACEHOLDER_IMAGE = "rbxassetid://0"
    
        local pfp = Instance.new("ImageLabel", box)
        pfp.Parent = box
        pfp["BorderSizePixel"] = 0;
        pfp["BackgroundColor3"] = Color3.fromRGB(34, 34, 34);
        pfp["Image"] = "rbxasset://textures/ui/GuiImagePlaceholder.png";
        pfp["Size"] = UDim2.new(0, 40, 0, 40);
        pfp["BorderColor3"] = Color3.fromRGB(0, 0, 0);
        pfp.Position = UDim2.new(0, 10, 0, 10)
        
        local userId = player.UserId
        local thumbType = Enum.ThumbnailType.HeadShot
        local thumbSize = Enum.ThumbnailSize.Size420x420
        local content, isReady = game:GetService("Players"):GetUserThumbnailAsync(userId, thumbType, thumbSize)
        
        pfp.Image =  (isReady and content) or PLACEHOLDER_IMAGE
        
        
        uicorner2 = Instance.new("UICorner", pfp);
        uicorner2["CornerRadius"] = UDim.new(1, 0);
        
        
        -- StarterGui.ScreenGui.Frame.ScrollingFrame.Frame.ImageLabel.UIStroke
        stroke2 = Instance.new("UIStroke", pfp);
        stroke2["ApplyStrokeMode"] = Enum.ApplyStrokeMode.Border;
        stroke2["Color"] = Color3.fromRGB(49, 49, 49);
    
        -- Username Label
        local usernameLabel = Instance.new("TextLabel", box)
        usernameLabel.Size = UDim2.new(0, 200, 0, 25)
        usernameLabel.Position = UDim2.new(0, 70, 0, 10)  -- Adjusted position
        usernameLabel.BackgroundTransparency = 1
        usernameLabel.Text = player.Name  -- Player's Username
        usernameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        usernameLabel.Font = Enum.Font.GothamBold
        usernameLabel.TextSize = 16
    
        -- Cash Balance Label
        local cashBalanceLabel = Instance.new("TextLabel", box)
        cashBalanceLabel.Size = UDim2.new(0, 200, 0, 25)
        cashBalanceLabel.Position = UDim2.new(0, 70, 0, 40)  -- Adjusted position
        cashBalanceLabel.BackgroundTransparency = 1
        cashBalanceLabel.Text = format(player:WaitForChild("DataFolder"):WaitForChild("Currency").Value)
        cashBalanceLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        cashBalanceLabel.Font = Enum.Font.GothamBold
        cashBalanceLabel.TextSize = 14
    
        return box
    end
    
    -- Function to add the profile boxes dynamically under the existing ones
    local function addProfileBoxes(player)
        -- Calculate the Y position for the new box (below the existing ones)
        local positionY = 220 + (#AltsFrame:GetChildren() - 3) * 90  -- Start from 220, increment by 90 for each box
        local newBox = createProfileBox(AltsFrame, player, UDim2.new(0, 0, 0, positionY))
    end
    
    -- Function to remove a profile box when the player leaves
    local function removeProfileBox(player)
        local boxToRemove = AltsFrame:FindFirstChild("ProfileBox_" .. player.UserId)
        if boxToRemove then
            boxToRemove:Destroy()
            updateProfileBoxes()  -- Update the positions of the remaining boxes
        end
    end
    
    -- Function to update the positioning of the remaining boxes after a player leaves
    local function updateProfileBoxes()
        local positionY = 220  -- Start position for profile boxes
        for _, child in pairs(AltsFrame:GetChildren()) do
            if child.Name:find("ProfileBox_") then
                child.Position = UDim2.new(0, 0, 0, positionY)
                positionY = positionY + 90  -- Increment for the next box
            end
        end
    end
    
    
    
    
    
    
    -- Function to format the numbers with suffixes (b for billion, m for million, etc.)
    local function formatNumber(value)
        if value >= 1000000000 then
            return string.format("%.1fb", value / 1000000000)
        elseif value >= 1000000 then
            return string.format("%.1fm", value / 1000000)
        elseif value >= 1000 then
            return string.format("%.1fk", value / 1000)
        else
            return tostring(value)
        end
    end
    
    -- Function to update the box values with formatted numbers
    local function updateAltsValues(altsStock, altsBounty, totalAlts)
        altsStockLabel.Text = formatNumber(altsStock)  -- Update Alts Stock value
        altsBountyLabel.Text = formatNumber(altsBounty)  -- Update Alts Bounty value
        totalAltsLabel.Text = formatNumber(totalAlts)  -- Update Total Alts value
    end
    
    local function calculateAltsValues()
        local totalMoney = 0
        local totalBounties = 0
        local altsInGame = 0
    
        -- Iterate through all players in the game
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer and isAlt(player.UserId) then  -- Exclude the local player, only alts
                altsInGame = altsInGame + 1
                
                -- Get the player's cash
                local cash = player:WaitForChild("DataFolder"):WaitForChild("Currency").Value
                totalMoney = totalMoney + cash
                
                -- Get the player's bounty (assuming it's stored in leaderstats)
                local leaderstats = player:FindFirstChild("leaderstats")
                if leaderstats then
                    local bounty = leaderstats:FindFirstChild("Bounty")
                    if bounty then
                        totalBounties = totalBounties + bounty.Value
                    end
                end
            end
        end
    
        updateAltsValues(totalMoney, totalBounties, altsInGame)
    end
    
    
    
    -- Create MiscFrame (already provided)
    local MiscFrame = Instance.new("ScrollingFrame", G2L["2"])
    MiscFrame["Active"] = true
    MiscFrame["BorderSizePixel"] = 0
    MiscFrame["BackgroundColor3"] = Color3.fromRGB(255, 255, 255)
    MiscFrame["ScrollBarImageTransparency"] = 1
    MiscFrame["Size"] = UDim2.new(0, 396, 0, 296)
    MiscFrame["ScrollBarImageColor3"] = Color3.fromRGB(0, 0, 0)
    MiscFrame["Position"] = UDim2.new(0.24, 10, 0, 0)
    MiscFrame["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    MiscFrame["BackgroundTransparency"] = 1
    MiscFrame.Visible = false  -- Initially hidden
    MiscFrame.ZIndex = 3
    -- Disable scroll functionality by setting CanvasSize to Size and removing the scrollbar
    MiscFrame.CanvasSize = AltsFrame.Size
    MiscFrame.ScrollBarThickness = 0  -- This hides the scrollbar
    
    
    
    -- Function to create buttons
    local function createButton(parent, position, text, callback)
        local button = Instance.new("TextButton", parent)
        button.Size = UDim2.new(0, 379, 0, 40)
        button.Position = position
        button.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Text = text
        button.Font = Enum.Font.GothamBold
        button.TextSize = 18
        button.BorderSizePixel = 0
        local uiCorner = Instance.new("UICorner", button)
        uiCorner.CornerRadius = UDim.new(0, 8)
    
        -- Button click event
        button.MouseButton1Click:Connect(callback)
        
        return button
    end
    
    -- Function to create toggle switches
    local function createToggle1(parent, position, text, initialState, callback)
        local toggleFrame = Instance.new("Frame", parent)
        toggleFrame.Size = UDim2.new(0, 379, 0, 40)
        toggleFrame.Position = position
        toggleFrame.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        toggleFrame.BorderSizePixel = 0
        local uiCorner = Instance.new("UICorner", toggleFrame)
        uiCorner.CornerRadius = UDim.new(0, 8)
    
    
        -- Create the label
        local label = Instance.new("TextLabel", toggleFrame)
        label.Size = UDim2.new(0.7, 0, 1, 0)
        label.Position = UDim2.new(0, 10, 0, 0)
        label.BackgroundTransparency = 1
        label.Text = text
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.Font = Enum.Font.GothamBold
        label.TextSize = 16
        label.TextXAlignment = Enum.TextXAlignment.Left
    
        -- Create the toggle button
        local toggleButton = Instance.new("TextButton", toggleFrame)
        toggleButton.Size = UDim2.new(0, 60, 0, 25)
        toggleButton.Position = UDim2.new(1, -70, 0.5, -12.5)
        toggleButton.BackgroundColor3 = initialState and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        toggleButton.Text = initialState and "ON" or "OFF"
        toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        toggleButton.Font = Enum.Font.GothamBold
        toggleButton.TextSize = 14
        toggleButton.BorderSizePixel = 0
        local toggleCorner = Instance.new("UICorner", toggleButton)
        toggleCorner.CornerRadius = UDim.new(0, 5)
    
        local isToggled = initialState
    
        toggleButton.MouseButton1Click:Connect(function()
            isToggled = not isToggled
            toggleButton.BackgroundColor3 = isToggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
            toggleButton.Text = isToggled and "ON" or "OFF"
            callback(isToggled)
        end)
    
        return toggleFrame
    end
    
    local LocalPlayer = game.Players.LocalPlayer
    local function bringallplayers()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= LocalPlayer and isAlt(player.UserId) then
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    -- Teleport the alt to the local player's position
                    game.Players:Chat("/bring " .. player.Name)
                end
            end
        end
    end
    
    local function babyAlts()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= LocalPlayer and isAlt(player.UserId) then
                game.Players:Chat("/baby " .. player.Name)
            end
        end
    end
    
    
    
    
    -- Create the buttons inside MiscFrame
    createButton(MiscFrame, UDim2.new(0, 0, 0, 10), "Bring all buyers [ðŸ‘‘]", function()
        bringallplayers()
    end)
    
    createButton(MiscFrame, UDim2.new(0, 0, 0, 60), "Baby alts [ðŸ‘‘]", function()
        babyAlts()
    end)
    -- Define a variable to control the loop state
    local cashAuraActive = false
    
    -- Assuming you have a createToggle function and a MiscFrame for the UI elements
    createToggle1(MiscFrame, UDim2.new(0, 0, 0, 110), "Cash Aura", false, function(state)
        cashAuraActive = state
        if cashAuraActive then
            spawn(function()
                while cashAuraActive do
                    game.Players:Chat("/aura " .. LocalPlayer.Name)
                    wait(5)  -- Adjust the wait time as needed
                end
            end)
        end
    end)
    
    
    
    
    -- Declare a variable to control the Auto Drop state
    local autoDropActive = false
    
    -- Assuming you have a createToggle function and a MiscFrame for the UI elements
    createToggle1(MiscFrame, UDim2.new(0, 0, 0, 160), "Auto Drop", false, function(state)
        autoDropActive = state
        if autoDropActive then
            spawn(function()
                while autoDropActive do
                    game.Players:Chat("/drop")
                    wait(10)  -- Adjust the wait time as needed (10 seconds in this example)
                end
            end)
        end
    end)
    local IGNORED = workspace:WaitForChild("Ignored")
    
    -- Create SettingsFrame
    local SettingsFrame = Instance.new("ScrollingFrame", G2L["2"])
    SettingsFrame["Active"] = true
    SettingsFrame["BorderSizePixel"] = 0
    SettingsFrame["BackgroundColor3"] = Color3.fromRGB(255, 255, 255)
    SettingsFrame["ScrollBarImageTransparency"] = 1
    SettingsFrame["Size"] = UDim2.new(0, 396, 0, 296)
    SettingsFrame["ScrollBarImageColor3"] = Color3.fromRGB(0, 0, 0)
    SettingsFrame["Position"] = UDim2.new(0.24, 10, 0, 0)
    SettingsFrame["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    SettingsFrame["BackgroundTransparency"] = 1
    SettingsFrame.Visible = false
    SettingsFrame.ZIndex = 3
    SettingsFrame.CanvasSize = UDim2.new(0, 0, 0, 720)
    SettingsFrame.ScrollBarThickness = 6

    -- Create altcontrol Frame
    local altcontrol = Instance.new("ScrollingFrame", G2L["2"])
    altcontrol["Active"] = true
    altcontrol["BorderSizePixel"] = 0
    altcontrol["BackgroundColor3"] = Color3.fromRGB(255, 255, 255)
    altcontrol["ScrollBarImageTransparency"] = 1
    altcontrol["Size"] = UDim2.new(0, 396, 0, 296)
    altcontrol["ScrollBarImageColor3"] = Color3.fromRGB(0, 0, 0)
    altcontrol["Position"] = UDim2.new(0.24, 10, 0, 0)
    altcontrol["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    altcontrol["BackgroundTransparency"] = 1
    altcontrol.Visible = false
    altcontrol.ZIndex = 3
    altcontrol.CanvasSize = UDim2.new(0, 0, 0, 1000)
    altcontrol.ScrollBarThickness = 6

    -- Navigation buttons data
    local buttonsData = {
        {Text = "Players", Position = UDim2.new(0, 0, 0, 0), Frame = G2L["7"]},
        {Text = "Alts", Position = UDim2.new(0, 0, 0, 50), Frame = AltsFrame},
        {Text = "Alt Control", Position = UDim2.new(0, 0, 0, 100), Frame = altcontrol},
        {Text = "Misc", Position = UDim2.new(0, 0, 0, 150), Frame = MiscFrame},
        {Text = "Settings", Position = UDim2.new(0, 0, 0, 200), Frame = SettingsFrame}
    }

    -- Create buttons inside the sideFrame
    for _, buttonData in ipairs(buttonsData) do
        local button = Instance.new("TextButton", sideFrame)
        button.Size = UDim2.new(1, 0, 0, 40)
        button.Position = buttonData.Position
        button.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Text = buttonData.Text
        button.Font = Enum.Font.GothamBold
        button.TextSize = 18
        button.BorderSizePixel = 0

        -- Add rounded corners to each button
        local buttonUICorner = Instance.new("UICorner", button)
        buttonUICorner.CornerRadius = UDim.new(0, 8)

        -- Add functionality for button click
        button.MouseButton1Click:Connect(function()

            -- Hide all frames first
            G2L["7"].Visible = false
            AltsFrame.Visible = false
            MiscFrame.Visible = false
            SettingsFrame.Visible = false
            altcontrol.Visible = false

            -- Show the corresponding frame for the button clicked
            if button.Text == "Players" then
                G2L["7"].Visible = true
            elseif button.Text == "Alts" then
                calculateAltsValues()
                AltsFrame.Visible = true
            elseif button.Text == "Misc" then
                MiscFrame.Visible = true
            elseif button.Text == "Settings" then
                SettingsFrame.Visible = true
            elseif button.Text == "Alt Control" then
                altcontrol.Visible = true
            end
        end)
    end

    -- StarterGui.ScreenGui.Frame.UICorner
    G2L["3"] = Instance.new("UICorner", G2L["2"])

    -- StarterGui.ScreenGui.Frame.ScrollingFrame
    -- player cards FRAME
    G2L["7"] = Instance.new("ScrollingFrame", G2L["2"])
    G2L["7"]["Active"] = true
    G2L["7"]["BorderSizePixel"] = 0
    G2L["7"]["BackgroundColor3"] = Color3.fromRGB(255, 255, 255)
    G2L["7"]["ScrollBarImageTransparency"] = 1
    G2L["7"]["Size"] = UDim2.new(0, 410, 0, 296)
    G2L["7"]["ScrollBarImageColor3"] = Color3.fromRGB(0, 0, 0)
    G2L["7"]["Position"] = UDim2.new(0.24, 0, 0, 0)
    G2L["7"]["BorderColor3"] = Color3.fromRGB(0, 0, 0)
    G2L["7"]["BackgroundTransparency"] = 1

    -- StarterGui.ScreenGui.Frame.ScrollingFrame.UIListLayout
    G2L["8"] = Instance.new("UIListLayout", G2L["7"])
    G2L["8"]["SortOrder"] = Enum.SortOrder.LayoutOrder
    G2L["8"].Padding = UDim.new(0, 5)

    G2L["8"]:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        -- Add extra space for padding and any offsets that might be required
        G2L["7"].CanvasSize = UDim2.new(0, 0, 0, G2L["8"].AbsoluteContentSize.Y + 10)
    end)

    print("HOST GUI Loaded Successfully!")
    print("Ran")
end

local GC = getconnections or get_signal_cons
if GC then
    for i,v in pairs(GC(Players.LocalPlayer.Idled)) do
        if v["Disable"] then
            v["Disable"](v)
        elseif v["Disconnect"] then
            v["Disconnect"](v)
        end
    end
end
print("Ran")
